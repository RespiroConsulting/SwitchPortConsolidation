# Switch port Consolidation
This project runs PyATS script to recommend source switch port to target switch port migration and later test the status of port migration. Run "gui.py" to open an interactive GUI and run script accordingly. 
PyAts is used to connect to devices and run different configuration to check switch interfaces, their VLANs and MAC addresses which is used to recommend port migration. Using the GUI, you can send emails, save log files, and view log files generated by the script.

## Execution
There are two ways this project can be executed:

A. If you wish to run the project using GUI, run the gui.py file
```bash
python gui.py
```
B. If you wish to run the script using command line, following steps needs to be followed:

1. Run following command to convert .xls testbed file to yaml based testbed file
    ```bash
    pyats create testbed file --path testbed/sourcetestbed.xls --output sourcetestbed.yml
    ```
    ```bash
    pyats create testbed file --path testbed/targettestbed.xls --output targettestbed.yml
    ```
2. Run the first script to check port status, check VLAN and connected MAC address
    ```bash
    pyats run job job.py --html-logs log/
    ```
3. Once the physical port migration has been made based on the recommendation from the first script, run the second script to check the port migration status.
    ```bash
    pyats run job check_migration_job.py --html-logs log/
    ```
   
## Testbed sample file
Use csv template in testbed folder to populate source and target switch information

hostname | ip | username | password | protocol | os |
--- | --- | --- | --- |--- |--- |
Switch1 | 192.168.1.1:32576 | cisco | cisco | telnet | ios | 

## Contributing
Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.


## License
[MIT](https://choosealicense.com/licenses/mit/)